:root {
    --bg-gradient: radial-gradient(circle at 50% 30%, #1e3c72, #0f2027 80%);
    --gold: #ffd700;
    --gold-dim: #c5a059;
    --gold-dark: #a8853c;
    --cover-gradient: linear-gradient(135deg, #004e92, #000428);
    --card-bg: #fffbf0;
    --text-blue: #002b49;
  }
  
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body { height: 100vh; background: var(--bg-gradient); display: flex; justify-content: center; align-items: center; font-family: 'Playfair Display', serif; overflow: hidden; perspective: 2000px; }
  
  /* --- HIỆU ỨNG PHÁO HOA --- */
  @keyframes explosion { 0% { transform: scale(0); opacity: 0; } 50% { opacity: 1; } 100% { transform: scale(1.5); opacity: 0; } }
  .firework-bg { position: absolute; width: 8px; height: 8px; border-radius: 50%; box-shadow: 0 0 0 4px rgba(255, 215, 0, 0.6), 0 0 0 8px rgba(0, 191, 255, 0.4), 0 0 20px rgba(255, 255, 255, 0.8); animation: explosion 2.5s infinite ease-out; opacity: 0; z-index: 1; }
  .firework-mini { position: absolute; width: 3px; height: 3px; background: white; border-radius: 50%; box-shadow: 0 -12px 0 #ffd700, 10px -8px 0 #ffd700, 12px 0 0 #fff, 10px 8px 0 #ffd700, 0 12px 0 #ffd700, -10px 8px 0 #fff, -12px 0 0 #ffd700, -10px -8px 0 #ffd700; animation: spinPop 2s infinite linear; z-index: 5; }
  @keyframes spinPop { 0% { transform: scale(0) rotate(0deg); opacity: 1; } 100% { transform: scale(1.5) rotate(45deg); opacity: 0; } }
  
  /* --- INTRO --- */
  .intro { position: absolute; text-align: center; z-index: 100; transition: opacity 0.8s; }
  .shimmer-text { font-size: 4rem; font-weight: 700; text-transform: uppercase; letter-spacing: 5px; background: linear-gradient(to right, #bf953f, #fcf6ba, #b38728, #fbf5b7, #aa771c); background-size: 200% auto; -webkit-background-clip: text; -webkit-text-fill-color: transparent; animation: shine 3s linear infinite; filter: drop-shadow(0 0 10px rgba(255, 215, 0, 0.3)); }
  .intro-sub { color: var(--gold); letter-spacing: 3px; margin-top: 15px; font-size: 14px; }
  @keyframes shine { to { background-position: 200% center; } }
  
  /* --- BOOK CONTAINER --- */
  .book-wrapper { opacity: 0; transform: translateY(30px); transition: all 1s ease-out; z-index: 10; }
  .book-wrapper.visible { opacity: 1; transform: translateY(0); }
  .book { position: relative; width: 340px; height: 500px; transform-style: preserve-3d; transition: transform 1.2s cubic-bezier(0.25, 1, 0.5, 1); box-shadow: 0 30px 60px rgba(0,0,0,0.5); transform-origin: center center; }
  .book.open { transform: translateX(170px); }
  .book.open .cover-leaf { transform: rotateY(-180deg); }
  .cover-leaf { position: absolute; top: 0; left: 0; width: 100%; height: 100%; transform-style: preserve-3d; transform-origin: left; transition: transform 1.2s cubic-bezier(0.25, 1, 0.5, 1); z-index: 2; }
  .front, .back-cover, .body-card { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: 6px; backface-visibility: hidden; overflow: hidden; }
  
  /* --- BÌA TRƯỚC --- */
  .front { background: var(--cover-gradient); color: var(--gold); border: 1px solid var(--gold); box-shadow: inset 0 0 20px rgba(0,0,0,0.5); display: flex; justify-content: center; align-items: center; z-index: 2; position: relative; /* Quan trọng để căn vị trí icon */ }
  .front-content { border: 2px solid var(--gold); padding: 20px; text-align: center; width: 85%; height: 90%; display: flex; flex-direction: column; justify-content: center; background: rgba(0,0,0,0.2); }
  .logo-text { font-size: 20px; font-weight: bold; margin-bottom: 10px; color: #fff; text-transform: uppercase; letter-spacing: 2px; }
  .card-icon { width: 45px; height: 45px; margin: 0 auto 15px; display: block; color: var(--gold); filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3)); }
  .front h2 { font-size: 32px; margin: 15px 0; color: var(--gold); }
  .line-small { width: 30px; height: 2px; background: var(--gold); margin: 0 auto; }
  
  /* --- TRANG TRÁI --- */
  .back-cover { background: #000; transform: rotateY(180deg); display: flex; flex-direction: column; align-items: center; justify-content: center; box-shadow: inset -10px 0 30px rgba(0,0,0,0.6); }
  .back-cover img { position: absolute; width: 100%; height: 100%; object-fit: cover; }
  .overlay { position: absolute; width: 100%; height: 100%; background: linear-gradient(to top, rgba(0, 30, 60, 0.95), rgba(0, 30, 60, 0.3)); }
  .left-content { position: relative; z-index: 2; text-align: center; color: #fff; padding: 20px; }
  .left-content h3 { font-size: 28px; color: var(--gold); margin-bottom: 10px; text-transform: uppercase; text-shadow: 0 2px 4px rgba(0,0,0,0.5); }
  .small-line { width: 40px; height: 2px; background: #fff; margin: 0 auto 10px; }
  
  /* --- TRANG PHẢI --- */
  .body-card { background: var(--card-bg); color: var(--text-blue); z-index: 1; box-shadow: inset 10px 0 20px rgba(0,0,0,0.05); display: flex; justify-content: center; align-items: center; }
  .card-content { padding: 30px; text-align: center; width: 100%; height: 100%; display: flex; flex-direction: column; justify-content: space-around; border: 1px solid rgba(197, 160, 89, 0.2); margin: 10px; }
  .body-card h2 { color: var(--gold-dark); font-size: 30px; margin-bottom: 5px; }
  .line { width: 50px; height: 3px; background: var(--gold-dim); margin: 0 auto; }
  .invite-text { font-size: 14px; color: #555; font-style: italic; }
  .guest-name { font-weight: bold; font-size: 24px; color: var(--text-blue); margin: 10px 0; font-family: "Times New Roman", serif; }
  .details { text-align: left; font-size: 15px; margin-left: 5px; line-height: 2; color: #333; }
  .details p { border-bottom: 1px dashed #ddd; padding-bottom: 5px; }
  .footer { font-style: italic; color: #888; font-size: 13px; margin-top: 10px; }
  .hidden { display: none; }
  
  /* --- ICON MỞ THIỆP (MỚI) --- */
  .open-btn {
    position: absolute;
    bottom: 25px; /* Cách đáy thiệp một chút */
    left: 50%;
    transform: translateX(-50%);
    width: 40px;
    height: 40px;
    color: var(--gold); /* Màu vàng sang trọng */
    cursor: pointer;
    z-index: 10; /* Nằm trên các lớp khác của bìa trước */
    transition: all 0.3s ease;
    animation: pulseIcon 2s infinite; /* Hiệu ứng thở nhẹ */
    filter: drop-shadow(0 2px 5px rgba(0,0,0,0.5));
  }
  
  /* Hiệu ứng khi di chuột/chạm vào */
  .open-btn:hover {
    transform: translateX(-50%) scale(1.15);
    color: #fff; /* Đổi màu sáng hơn khi hover */
  }
  
  /* Animation nhấp nháy nhẹ nhàng */
  @keyframes pulseIcon {
    0% { opacity: 0.7; transform: translateX(-50%) scale(1); }
    50% { opacity: 1; transform: translateX(-50%) scale(1.08); }
    100% { opacity: 0.7; transform: translateX(-50%) scale(1); }
  }
  
  /* =========================================
     RESPONSIVE MOBILE
     ========================================= */
  @media screen and (max-width: 768px) {
    .shimmer-text { font-size: 2.5rem; line-height: 1.2; }
    .intro p { font-size: 11px !important; padding: 0 10px; }
    .book { width: 300px; height: 450px; transform-origin: left center; }
    .front h2 { font-size: 24px; }
    .logo-text { font-size: 16px; margin-bottom: 10px; }
    .card-icon { width: 35px; height: 35px; margin-bottom: 10px; }
    .body-card { padding: 15px; }
    .body-card h2 { font-size: 22px; margin-bottom: 5px; }
    .guest-name { font-size: 18px; margin: 5px 0; }
    .details { font-size: 12px; line-height: 1.8; margin-left: 0; }
    .left-content h3 { font-size: 22px; }
    .left-content p { font-size: 12px; }
    .book.open { transform: translateX(150px) scale(0.53); }
    .firework-bg { transform: scale(0.6); }
    
    /* Điều chỉnh icon trên mobile */
    .open-btn {
      bottom: 20px;
      width: 35px;
      height: 35px;
    }
  }
  @media screen and (max-width: 900px) and (orientation: landscape) {
    .book { height: 80vh; width: 55vh; transform-origin: left center; }
    .book.open { transform: translateX(27.5vh) scale(0.8); }
  }
